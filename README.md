# deepra_ui

## Project setup (install requirements)
```bash
$ yarn install
```

### Run application on electron (with hot-reloads for development)
(require dependency: `vue-cli-plugin-electron-builder`)
```bash
$ yarn run electron:serve
```

### Build application
- dependency: `vue-cli-plugin-electron-builder`

    If this package has not been installed, run the following command to install it
    ```bash
    $ vue add electron-build
    ```

- build this project into a standalone application
    ```bash
    $ yarn run electron:build
    ```

### Setup `.proto` files from backend repository (permission of accessing repository is required)
```bash
$ python ./scripts/setup_api_protos.py
```

## Test setup
### Install chrome driver
1. You can download and setup driver by executing the following script

    ```bash
    # chromedriver 75 will be downloaded by default
    $ python ./script/setup_chrome_driver.py

    # or you can assign version of driver by adding argument with `-c`
    $ python ./script/setup_chrome_driver.py -c 73
    ```
    or you can download it manually from [offical page](http://chromedriver.chromium.org/downloads)

2. Make chrome driver be executable from command line (the following steps equal to the message generated by script)

    - On Windows, open `cmd.exe` and enter the following command to open environment variable editor:

        ```bat
        > rundll32 sysdm.cpl,EditEnvironmentVariables
        ```

    - On Linux, you may need to make downloaded chromedriver be an executable by

        ```bash
        $ chmod +x ~/bin/chromedriver
        ```

### Run test
- Unit tests of javascript stuff
```bash
$ yarn run test:unit
```

- Intergration test (GUI test)
```bash
# Install requirements if this is the first run (for Python 3.6, 3.7)
$ pip install -r ./tests/requirements.txt

# Run tests
$ python ./scripts/run_pytest_bdd.py
# or run tests with showing BDD-style scenario
$ python ./scripts/run_pytest_bdd.py --show_scenario
```
